<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cover.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>Cover</title>
</head>
<body>

        <div id="load">
          <div class="loading-icon"></div>
          <p class="loading-text">Loading your diary...</p>
        </div>
        <div id="contents">
          <!-- Your diary content goes here -->
          <div class="book">
            <span class="page page2" id="page1" onclick="editPage('page1')">1</span>
            <span class="page page2" id="page2" onclick="editPage('page2')">2</span>
            <span class="page page2" id="page3" onclick="editPage('page3')">3</span>
            <span class="page page2" id="page4" onclick="editPage('page4')">4</span>
            <span class="page page2" id="page5" onclick="editPage('page5')">5</span>
            <span class="page page2" id="page6" onclick="editPage('page6')">6</span>
            <span class="cover" id="cover" onclick="toggleBook()">7</span> 
            <button id="open" class="btn" onclick="toggleBook()">Open</button>
            <span class="cover cover1" img="/Images/cover2.jpg">
                <a href="#"><div class="title animate__animated animate__fadeIn animate__infinite" id="flipped" onclick="location.href='diary.html'">MY DIARY</div></a>
            </span>
            
        </div>
        <button id="open" class="btn" onclick="toggleBook()">Open</button>
        <!-- <button id="open" class="btn" onClick="location.href='index.html'">Exit</button> -->
        </div>
    



<!-- <script>
    function toggleBook() {
        $(".page2").toggleClass('turn'); 
        $(".cover1").toggleClass('turn');
    }

    let currentPage = 1;
    let content = pageId;
     function editContent() {
        if (pageid>= 1) {
            console.log(textarea);
        }else{
            onscroll.scrollToNextPage();
        }
     }

    function editPage(pageId) {
        const content = prompt("Edit the content of the page:", document.getElementById(pageId).innerText);
        if (content !== null) {
            document.getElementById(pageId).innerText = content;
        }
    }
           // else if (content >= 1) {
           // document.getElementsByTagName(textarea).editPage;
       // }else {onscroll.scrollToNextPage}

    function scrollToNextPage() {
        if (currentPage < 3) {
            currentPage++;
            const transformValue = `translateX(${-100 * (currentPage - 1)}vw)`;
            document.body.style.transform = transformValue;
        }
    }

    function handleScroll(event) {
        const delta = event.deltaY;

        if (delta > 0) {
            scrollToNextPage();
        }
    }
    document.addEventListener("wheel", handleScroll);

    // to edit contents of the page
    let isBookOpen = false;

    function toggleBook() {
        const book = document.getElementById('book');
        isBookOpen = !isBookOpen;
        book.classList.toggle('open', isBookOpen);
    }

    function editPage(pageId) {
        if (isBookOpen) {
            const content = prompt("Edit the content of the page:", document.getElementById(pageId).innerText);
            if (content !== null) {
                document.getElementById(pageId).innerText = content;
            }
        }
    }
</script> -->
<script>
    let currentPage = 1;
let content = pageId;

function editContent() {
    if (currentPage >= 1) {
        const content = prompt("Edit the content of the page:", document.getElementById(content).innerText);
        if (content !== null) {
            document.getElementById(content).innerText = content;
        }
    } else {
        scrollToNextPage();
    }
}

function scrollToNextPage() {
    if (currentPage < 3) {
        currentPage++;
        const transformValue = `translateX(${-100 * (currentPage - 1)}vw)`;
        document.body.style.transform = transformValue;
    }
}

function handleScroll(event) {
    const delta = event.deltaY;

    if (delta > 0) {
        scrollToNextPage();
    }
}

document.addEventListener("wheel", handleScroll);

// to edit contents of the page
let isBookOpen = false;

function toggleBook() {
    const book = document.getElementById('book');
    isBookOpen = !isBookOpen;
    book.classList.toggle('open', isBookOpen);

    // Add this line to trigger the animation
    document.getElementById('flipped').classList.add('animate__fadeIn');

    if (isBookOpen) {
        editContent();
    }
}

function editPage(pageId) {
    if (isBookOpen) {
        const content = prompt("Edit the content of the page:", document.getElementById(pageId).innerText);
        if (content !== null) {
            document.getElementById(pageId).innerText = content;
        }
    }
}

// Add this line to handle the click event on the cover
document.getElementById('cover').addEventListener('click', toggleBook);
</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Simulate loading delay for demonstration purposes
        setTimeout(function () {
          // Hide loading elements
          document.getElementById('load').style.display = 'none';
      
          // Show contents
          document.getElementById('contents').style.display = 'block';
        }, 2000); // Adjust the time according to your needs
      });
      
      // Function to simulate content loading
      function toggleBook() {
        document.getElementById('load').style.display = 'flex';
        document.getElementById('contents').style.display = 'none';
      
        // Simulate loading delay for demonstration purposes
        setTimeout(function () {
          document.getElementById('load').style.display = 'none';
          document.getElementById('contents').style.display = 'block';
        }, 2000); // Adjust the time according to your needs
      }
      
      // Function to handle page edits
      function editPage(pageId) {
        // Your page editing logic goes here
        console.log('Editing page: ' + pageId);
      }
      
</script>
</body>
</html>
